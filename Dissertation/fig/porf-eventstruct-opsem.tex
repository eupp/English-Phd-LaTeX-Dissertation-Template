\newcommand{\PomAddEventRule}{{(Add Event)}\xspace}
\newcommand{\PorfAddEventRule}{{(ES Step)}\xspace}
% \newcommand{\ESStoreRule}{{(Store)}\xspace}
% \newcommand{\ESLoadRule}{{(Load)}\xspace}
% \newcommand{\ESLoadBotRule}{{(Load-Bottom)}\xspace}

\begin{figure*}[t]
\begin{center}

  \AXC{$e \not\in E$}
  \AXC{$\eset \subseteq E$}
  %
  \RightLabel{\PomAddEventRule}
  \BIC{$\tup{E, \lab, \ca}
        \pomStep{\tup{e, \ell, \eset}}
        \tup{E \uplus \set{e}, \updmap{\lab}{e}{\ell}, \ca \uplus \dwset{\eset} \times \set{e}}$}
  \DisplayProof

  \rulevspace

  \AXC{$\ltr{\el}{\state}{\state'}$}
  \noLine
  \UIC{$\lSTEP(\ell) = \step{\el}{\state}{\state'}$}
  %
  \AXC{$p \pomStep{\tup{e, \ell, \set{e_{\lPO}, e_{\lRF}}}} p'$}
  %
  \AXC{$\stlab(e_{\lPO}) \posync \lSTEP(\ell)$}
  \noLine
  \UIC{$\dlab(e_{\lRF}) \rfsync \lLAB(\ell)$}
  %
  \RightLabel{\PorfAddEventRule}
  \TIC{$p \esStep{\tup{e, \ell, e_{\lPO}, e_{\lRF}}} p'$}
  \DisplayProof

  \rulevspace
  
  \caption{Operational Semantics}
  \label{fig:eventstruct-opsem}

\end{center}
\end{figure*}
